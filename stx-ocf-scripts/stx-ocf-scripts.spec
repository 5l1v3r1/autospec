#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : stx-ocf-scripts
Version  : 1.0
Release  : 1
URL      : file:///home/clr/stx-tar/stx-ocf-scripts-1.0.tar.gz
Source0  : file:///home/clr/stx-tar/stx-ocf-scripts-1.0.tar.gz
Summary  : No detailed summary available
Group    : Development/Tools
License  : Apache-2.0
Requires: openstack-ras
Patch1: 0001-add-makefile.patch

%description
No detailed description available

%prep
%setup -q -n stx-ocf-scripts-1.0
%patch1 -p1

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C.UTF-8
export SOURCE_DATE_EPOCH=1568280404
export GCC_IGNORE_WERROR=1
export AR=gcc-ar
export RANLIB=gcc-ranlib
export NM=gcc-nm
export CFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export FCFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export FFLAGS="$CFLAGS -O3 -ffat-lto-objects -flto=4 "
export CXXFLAGS="$CXXFLAGS -O3 -ffat-lto-objects -flto=4 "
make  %{?_smp_mflags}


%install
export SOURCE_DATE_EPOCH=1568280404
rm -rf %{buildroot}
install -d -m 755 ${RPM_BUILD_ROOT}/usr/lib/ocf/resource.d/openstack
## install_append content
install -p -D -m 755 ocf/* ${RPM_BUILD_ROOT}/usr/lib/ocf/resource.d/openstack/
## install_append end

%files
%defattr(-,root,root,-)
/usr/lib/ocf/resource.d/openstack/aodh-api
/usr/lib/ocf/resource.d/openstack/aodh-evaluator
/usr/lib/ocf/resource.d/openstack/aodh-listener
/usr/lib/ocf/resource.d/openstack/aodh-notifier
/usr/lib/ocf/resource.d/openstack/barbican-api
/usr/lib/ocf/resource.d/openstack/barbican-keystone-listener
/usr/lib/ocf/resource.d/openstack/barbican-worker
/usr/lib/ocf/resource.d/openstack/ceilometer-agent-notification
/usr/lib/ocf/resource.d/openstack/cinder-backup
/usr/lib/ocf/resource.d/openstack/dbmon
/usr/lib/ocf/resource.d/openstack/heat-api
/usr/lib/ocf/resource.d/openstack/heat-api-cfn
/usr/lib/ocf/resource.d/openstack/heat-api-cloudwatch
/usr/lib/ocf/resource.d/openstack/ironic-api
/usr/lib/ocf/resource.d/openstack/ironic-conductor
/usr/lib/ocf/resource.d/openstack/magnum-api
/usr/lib/ocf/resource.d/openstack/magnum-conductor
/usr/lib/ocf/resource.d/openstack/murano-api
/usr/lib/ocf/resource.d/openstack/murano-engine
/usr/lib/ocf/resource.d/openstack/nova-compute
/usr/lib/ocf/resource.d/openstack/nova-conductor
/usr/lib/ocf/resource.d/openstack/nova-placement-api
/usr/lib/ocf/resource.d/openstack/nova-serialproxy
/usr/lib/ocf/resource.d/openstack/panko-api
/usr/lib/ocf/resource.d/openstack/validation
